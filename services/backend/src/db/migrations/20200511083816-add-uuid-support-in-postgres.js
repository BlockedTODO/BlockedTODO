'use strict';

// Fix issues with sequelize and auto-generating UUIDs in postgres.
// Need to install the uuid-ossp postgres extension.
// Then, we can set defaultValue: Sequelize.literal('uuid_generate_v4()') in the migrations.
// Solution inspired by https://krmannix.com/2017/05/23/postgres-autogenerated-uuids-with-sequelize/
module.exports = {
  up: (queryInterface, Sequelize) => {
    return queryInterface.sequelize.query('CREATE EXTENSION IF NOT EXISTS "uuid-ossp";');
  }
};
